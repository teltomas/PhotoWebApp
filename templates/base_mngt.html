{% extends "be_layout.html" %}

{% block title %}
    Page Configuration
{% endblock %}

{% block main %}


<div class="mngt_container">

    <h4 style="text-decoration: none;">Page Configuration</h4>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
            <br><br>
            <h5>{{ message }}</h5>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <br/>
    <br/>



    <div class="artmngcontainer">

        <h1>Email:</h1>
        <p style="font-size: 0.7em;">This is your main email to which will be sent the website messages.</p>
        <form action="base_mngt?action=pgemail" method="post" id="pg_email" name="pg_email">
            <input type="text" name="email" id="email" maxlength="50" placeholder="Email..." value="{{ pageinfo.email }}" required>
            <input type="submit">
        </form>

    </div>

    <div class="artmngcontainer">

        <h1>Page Sender Email:</h1>
        <p style="font-size: 0.7em;">This would be an email account address used only by this page to send the emails to you. This should be a gmail account like "example-noreply@gmail.com" or it wont work.</p>
        <form action="base_mngt?action=confemail" method="post" id="conf_email" name="conf_email">
            <input type="text" name="cfemail" id="cfemail" maxlength="50" placeholder="Email Sender Address..." value="{{ pageinfo.page_email }}" required>
            <input type="submit">
        </form>

    </div>

    <div class="artmngcontainer">

        <h1>Page Sender Email Access Token:</h1>
        <p style="font-size: 0.7em;">This should be the email app access token generated by gmail in the Page Sender Email configuration account.</p>
        <p style="font-size: 0.7em;">To get the app access token: Gmail account settings > Security > Two Step Verification > App Passwords > Generate an "Other (Personalized Name)" with a name of your choosing.</p>
        <p style="font-size: 0.7em;">The generated token should be inserted here:</p>
        <form action="base_mngt?action=confemailkey" method="post" id="conf_emailkey" name="conf_emailkey">
            <input type="password" name="emailkey" id="emailkey" maxlength="50" placeholder="Email Sender Token..." required>
            <br>
            <input type="submit">
        </form>

    </div>

    <div class="artmngcontainer">

        <h1>Change Page Management Password:</h1>
        <p style="font-size: 0.7em;">Passwords are required to have a mix of at leat 8 letters and digits.</p>
        
        <form action="base_mngt?action=passchange" method="post" id="passchange" name="passchange">
            <input type="password" name="cpass" id="cpass" maxlength="50" placeholder="Current Management Password..." required>
            <br>
            <input type="password" name="npass" id="npass" maxlength="50" placeholder="New Password..." required>
            <br>
            <input type="password" name="repass" id="repass" maxlength="50" placeholder="Repeat New Password..." required>
            <br>
            <input type="submit">
        </form>

    </div>

    <div class="artmngcontainer">

        <h1>Page Legal Info:</h1>
        <p style="font-size: 0.7em;">Place to update the legal disclaimers of the page. This will be shown in a menu at the bottom of the page, if filled.</p>
        <form action="base_mngt?action=legal" method="post" id="legal" name="legal">
            <textarea type="text" name="pg_legal" id="pg_legal" placeholder="Page legal text...">{% if pageinfo.legal %}{{ pageinfo.legal }}{% endif %}</textarea>
            <input type="submit">
        </form>
    
    </div>

    <div class="artmngcontainer">

        <h1>Page Copyright Info:</h1>
        <p style="font-size: 0.7em;">Place to update the Copyright disclaimers of the page. This will be shown in a menu at the bottom of the page if filled.</p>
        <form action="base_mngt?action=copy" method="post" id="copy" name="copy">
            <textarea type="text" name="pg_copy" id="pg_copy" placeholder="Page copyright text...">{% if pageinfo.copyright %}{{ pageinfo.copyright }}{% endif %}</textarea>
            <input type="submit">
        </form>
    
    </div>
    
    <div class="artmngcontainer">
        
        <h1>Change the META info of the page:</h1>
        <p style="font-size: 0.7em;">Place to store the META Tags of the page.</p> 
        <p style="font-size: 0.7em;">This info is not shown anywhere in the page, but it is stored on a special place to be used by search engines and helps the page to be easilly found when someone searches for it</p>
        <p style="font-size: 0.7em;">Example of input (always with comma ate the end): photography, images, travel, street, landscapes, vistas, cityscapes, urban,...</p>
        <form action="base_mngt?action=metatags" method="post" id="metainfo" name="metainfo">
            <textarea type="text" name="meta" id="meta" placeholder="META tags..." required>{% if pageinfo.meta %}{{ pageinfo.meta }}{% endif %}</textarea>
            <input type="submit">
        </form>
    
    </div>

</div>

<ul>
    <a href="/pg_mngt"><li class="limngt">Return</li></a>
</ul>

{% endblock %}